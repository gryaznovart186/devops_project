# Требования
## Операционная система
На рабочей машине должна быть установлена одна из следующих операционных систем:
- Windows 10 с установленной Windows Subsystem for Linux (в проекте использовалась WSL с Ubuntu 18.04);
- Linux (в проекте использовалась Ubuntu 18.04);
- macOS (работа в этой системе не проверялась).

## Программы и инструменты
- Git 2.20.1
- Terraform 0.11.11
- Ansible 2.7.10
- Google Cloud SDK 243.0.0

Указанные версии программ использовались при создании проекта. Использование других версий допустимо, однако работоспособность проекта при использовании очень старых или, наоборот, более свежих сборок не гарантируется.

## Замечания
1. Проект можно запускать в операционной системе, установленной внутри виртуальной машины (например, VirtualBox).
2. ОС Windows не поддерживает работу Ansible, поэтому для его запуска нужна WSL, которая, в свою очередь, не поддерживает Terraform.
3. При монтировании файловой системы Windows WSL выдаёт всем папкам и каталогам этой файловой системы полные права (777), поэтому, если локальный репозиторий находится в каталоге Windows, Ansible в целях безопасности не читает файл **ansible.cfg** внутри директории **ansible/**, а следовательно, не знает расположение ролей и файла **inventory**, и плейбуки падают с ошибкой. Для корректной работы Ansible необходимо командой `chmod` изменить права каталога **ansible/** на 755, однако по умочанию эта команда не работает для файлов и каталогов Windows. Исправить это можно двумя способами:
    - перемонтировать в WSL файловую систему, в которой расположен каталог, с ключом `metadata`:
        ```bash
        $ sudo umount /mnt/c
        $ sudo mount -t drvfs C: /mnt/c -o metadata
        ```
        Подробнее об этом можно почитать [здесь](https://devblogs.microsoft.com/commandline/chmod-chown-wsl-improvements/);
    - перенести папку **ansible/** в какой-либо из внутренних каталогов WSL (например, в домашний каталог пользователя).

<br/>

Следующий шаг: [Предварительные шаги](01_prerequisites.md)

<br/>

[Вернуться на главную страницу](../README.md)
